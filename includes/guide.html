<a href="" ng-click="toggleOpen('guide')">
	<span ng-switch on="ngOpen.guide">
		<span ng-switch-when="false">Show guide</span>
		<span ng-switch-when="true">Hide guide</span>
	</span>
</a>

<div id="helpBox" ng-show="ngOpen.guide== true">
	<h3>Usage Guide</h3>
	<br />
	<p><em><strong>NOTE:</strong> This tool does not currently allow you to define ORM relationships, nor does it list every possible ORM column property attribute (just the most common ones).  You can manually add those relationships and property attributes to the ORM CFC file generated by this tool.</em></p>
	
	<p>This tool is currently divided into five sections:</p>
	<ul>
		<li><p><strong>Object Name and Table:</strong>  where you provide the name/filename of the ORM object and the name of the database table it links to.</p></li>
		<li><p><strong>ID Property:</strong>  where you set up the "id" property of your object (following the convention that all of your objects will have a single unique id field).</p></li>
		<li><p><strong>Column Properties and Validations:</strong> where you will set up the persistent properties of your ORM object and the corresponding validations to be performed on each property.</p></li>
		<li><p><strong>Validation Conditions:</strong> where you define any logic statements used by the property validation rules that determine whether the rule is applied.  If you don't use any conditions in your validation rules, you can skip this section.</p></li>
		<li><p><strong>Validation Contexts:</strong> where you associate contexts defined in your property validation rules with form names, which is useful when validating multiple forms on a single web page.  Can be skipped if contexts aren't relevant.</p></li>
	</ul>
	
	<p><br />Each section can be opened and closed by clicking on the "+" and "-" icons.</p>
	
	<p>The first two sections are fairly self-explanatory and help text is displayed beneath those form fields that need it.  In the remaining sections, hints about various form fields can be viewed by hovering over the "?" icon that accompanies it.</p>
	
	<p>Adding a property creates a property block (in expanded view mode when first created) with the top section designed to let you add attributes to the property declaration in your ORM CFC file.  Add whatever attributes are appropriate from the drop-down list.  Optional attributes can be deleted using the "X" hyperlink that comes with it.  Note that changing the name of a property does require deleting it (using the "X" hyperlink to the right of the property name) and starting over with that property.</p>
	
	<p>The bottom section of the property block allows you to create ValidateThis validation rules for that property.  In addition to the drop-down box for selecting a rule, you may see a list of suggested validations:  the tool will suggest certain validations based on the property attributes and attribute values you added (for example, a string property with a length attribute will generate a suggestion to use the maxLength validation rule).  For more information on the validations supported by ValidateThis, check out the <a href="http://www.validatethis.org/docs/" target="_blank">ValidateThis wiki</a>, and specifically the page that <a href="http://www.validatethis.org/docs/wiki/Validation_Types_Supported_By_ValidateThis.cfm" target="_blank">documents the rules</a>.</p>
	
	<p>Adding the first validation rule will create a validation block for the property, starting with the "Desc" and "Client Field Name" form field values that apply to all of the validation rule blocks that follow.  Each rule block comes with "Context", "Failure message", and "Condtion" fields.  Contexts let you apply different rules for different situations.  For example, in most parts of your app, you may want the "firstName" property on your field to be optional, but on one particular form you want it to be required.  So it is possible to repeat the same rule more than once for a given property but with different context values.  And as mentioned above, you can also associate contexts with particular forms in your applications using the Validation Contexts section.</p>
	
	<p>There may be situations where you don't want a validation rule to be applied unless a condition is met.  You can address that by creating a named condition in the Validation Conditions section, providing the server-side (and optionally client-side) conditional logic for the condition, and then adding that condition name in the "Condition" parameter of the validation rule (check the <a href="http://www.validatethis.org/docs/" target="_blank">ValidateThis documentation</a> for more information about conditions).</p>
	
	<p>Some validation rules involve parameters, like the min and max values in a numeric range.  Required parameters will be displayed with the appropriate form fields automatically.  If the rule has optional parameters, a drop-down box will be provided to let you add any and all of those parameters, and if you change your mind you can delete them with the matching "X" hyperlink.</p>
	
	<p>When you're done, click on the "Generate ORM and ValidateThis Files" button.  The data will be sent via AJAX to a CFC file that will then:</p>
		<ul>
			<li><p>Create an ORM CFC in the output/ormFiles folder.  The filename will be based on the ORM object name set in the Object Name and Table section.</p></li>
			<li><p>Create a ValidateThis rule definition file (in JSON format) in the output/vtFiles folder.  Again, filename will be based on the ORM object name set in the Object Name and Table section.</p></li>
			<li><p>Create a JSON file containing all of the information in the tool in the output/generatorLoadFiles folder.  The filename will incorporate the name of the object, the current date, and the current time.  You can later reload the data from any of these files into the tool if you want to alter the ORM or VT configuration or use it as a template (note that any changes you make directly in the ORM and VT rules files will obviously not be reflected in the loaded configuration)</p></li>
	</ul>
	
	<p>You can then move the generated ORM and ValidateThis rules file to the appropriate directories in your application and modify them further as needed.</p>
	
	<p>Some final things to be aware of:</p>
	<ul>
		<li>
			<p>This tool is not compatible with IE 8 due to its use of the indexOf() function of JavaScript arrays.</p>
		</li>
		<li>
			<p>Don't use double-quotes in any of the ValidateThis values (failureMessages for the rules, the JavaScript for the clientTest of a condition, etc.).  The tool originally escaped the double-quotes to render the JSON, but their presence caused client-side/JS errors in ValidateThis.  If you happen to forget this warning, the tool is currently programmed to replace any double-quotes with two single quotes instead, so it shouldn't break.</p>
		</li>
		<li>
			<p>The tool currently doesn't implement the ValidateThis rule parameter attribute "type" (which is an optional parameter).  Supporting it would require refactoring the code that supports the mechanism for adding and removing optional rule parameters, which was a bit troublesome to begin with.</p>
		</li>
	</ul>
</div>